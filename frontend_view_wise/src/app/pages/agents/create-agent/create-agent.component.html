<main class="main-container">
  <section class="left-panel">
    <form class="form" (ngSubmit)="submitAgent()">
      <div class="form-group">
        <label for="agent-name">Nom</label>
        <input id="agent-name" type="text" class="input" placeholder="Nom de l'agent" [(ngModel)]="agent.agentName" name="agentName" required />
      </div>

      <div class="form-group">
        <label for="agent-role">R√¥le</label>
        <input id="agent-role" type="text" class="input" placeholder="R√¥le de l'agent" [(ngModel)]="agent.agentRole" name="agentRole" required />
      </div>

      <div class="form-group">
        <label for="agent-objective">Objectif</label>
        <input id="agent-objective" type="text" class="input" placeholder="Objectif de l'agent" [(ngModel)]="agent.agentObjective" name="agentObjective" required />
      </div>

      <div class="form-group">
        <label for="agent-instructions">Instructions</label>
        <textarea id="agent-instructions" class="textarea" [(ngModel)]="agent.agentInstructions" name="agentInstructions" required></textarea>
      </div>

<!--      <div class="form-group">-->
<!--        <label for="datasource">Source de donn√©es</label>-->
<!--        <select id="datasource" class="select" [(ngModel)]="agent.datasource" name="datasource" required>-->
<!--          <option value="" disabled selected>Choisissez une source</option>-->
<!--          <option *ngFor="let ds of datasources" [value]="ds.id">{{ ds.name }}</option>-->
<!--        </select>-->
<!--      </div>-->

      <div class="form-group">
        <label for="datasource">Source de donn√©es</label>
        <select id="datasource" class="select" [(ngModel)]="agent.datasource" name="datasource" disabled>
          <option [value]="defaultDatasource.id">{{ defaultDatasource.name }}</option>
        </select>
      </div>

<!--      <div class="form-group">-->
<!--        <label for="modele">Mod√®le IA</label>-->
<!--        <select id="modele" class="select" [(ngModel)]="agent.modele" name="modele" required>-->
<!--          <option value="" disabled selected>Choisissez un mod√®le</option>-->
<!--          <option *ngFor="let model of modeles" [value]="model.id">{{ model.name }}</option>-->
<!--        </select>-->
<!--      </div>-->

      <div class="form-group">
        <label for="modele">Mod√®le IA</label>
        <select id="modele" class="select" [(ngModel)]="agent.modele" name="modele" disabled>
          <option [value]="defaultModel.id">{{ defaultModel.name }}</option>
        </select>
      </div>

<!--      <div class="form-group">-->
<!--        <label>D√©marreurs de conversation</label>-->
<!--        <div *ngFor="let starter of conversationStarters; let i = index" class="conversation-starter">-->
<!--          <input type="text" class="input" placeholder="Ajouter une phrase d‚Äôexemple" [(ngModel)]="conversationStarters[i]" name="starter-{{ i }}" (input)="handleInputChange(i)" />-->
<!--          <button type="button" class="btn-remove" [disabled]="!starter || starter.trim() === ''" (click)="removeStarter(i)">‚úï</button>-->
<!--        </div>-->
<!--      </div>-->

      <div *ngIf="!agentId" class="button">
        <button type="submit" class="btn btn-primary">Cr√©er l'agent</button>
      </div>
      <div *ngIf="agentId" class="button">
        <button type="submit" class="btn btn-primary">Mettre √† jour  l'agent</button>
      </div>
    </form>
  </section>

  <div class="separator"></div>

  <section class="right-panel">
    <form class="form">
<!--      <div class="upload-area" (click)="triggerFileInput()">-->
<!--        <ng-container *ngIf="fileNames.length === 0; else fileList">-->
<!--          <p class="empty-text">It's empty in here... for now.</p>-->
<!--          <div class="drag-drop-box">-->
<!--            <p class="icon">&#128194;</p>-->
<!--            <p class="drag-text">Drag or click to upload</p>-->
<!--          </div>-->
<!--          <div class="upload-options">-->
<!--            <p>OR</p>-->
<!--            <button type="button" class="btn-upload-connection">Create and Import from Connection</button>-->
<!--            <p>OR</p>-->
<!--            <button type="button" class="btn-upload-website">Import from a Website</button>-->
<!--          </div>-->
<!--        </ng-container>-->

<!--        <ng-template #fileList>-->
<!--          <table class="file-table">-->
<!--            <thead>-->
<!--            <tr>-->
<!--              <th>Name</th>-->
<!--              <th>Size</th>-->
<!--              <th>Status</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr *ngFor="let file of uploadedFiles">-->
<!--              <td>{{ file.name }}</td>-->
<!--              <td class="file-size">{{ formatFileSize(file.size) }}</td>-->
<!--              <td><span class="status-icon">‚úîÔ∏è</span></td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--          </table>-->
<!--        </ng-template>-->

<!--        <input type="file" #fileInput multiple hidden (change)="onFilesSelected($event)" />-->
<!--      </div>-->
      <div class="upload-area" (click)="triggerFileInput()">
        <p class="upload-label">T√©l√©versez vos fichiers<br />
          <span class="hint">Glissez ou cliquez pour ajouter des fichiers</span>
        </p>
        <p class="or-separator">OU</p>
        <div class="upload-button-container">
          <button class="btn-secondary" type="button">Cr√©er et importer via une connexion</button>
          <p class="file-types">.doc, .docx, .pdf, .txt, .rtf, .odt, .xls, .xlsx, .csv, .tsv, .ods</p>
        </div>
        <input type="file" #fileInput multiple hidden (change)="onFilesSelected($event)" />
      </div>

      <!-- Affichage des fichiers upload√©s -->
      <div *ngFor="let file of uploadedFiles" class="file-table-wrapper">
        <table class="file-table">
          <thead>
          <tr>
            <th style="width: 50%">Nom</th>
            <th style="width: 20%">Taille</th>
            <th style="width: 20%">Statut</th>
            <th style="width: 10%">Action</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>{{ file.name }}</td>
            <td><span class="file-size">{{ file.size | number:'1.0-1' }} KB</span></td>
            <td><span class="status-icon">‚úîÔ∏è</span></td>
            <td><button class="delete-btn" type="button" (click)="removeFile(file)">üóëÔ∏è</button></td>
          </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="existingFiles.length > 0" class="file-table-wrapper">
        <h4>Fichiers existants</h4>
        <table class="file-table">
          <thead>
          <tr>
            <th style="width: 60%">Nom</th>
            <th style="width: 20%">Taille</th>
            <th style="width: 20%">Action</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let file of existingFiles">
            <td>{{ file.name }}</td>
            <td><span class="file-size">{{ file.size / 1024 | number:'1.0-1' }} KB</span></td>
            <td>
              <button class="delete-btn" type="button" (click)="removeExistingFile(file.id)">üóëÔ∏è</button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>



      <div class="form-group tools-section">
        <div class="tools-header">
          <div class="tools-info">
            <h4 class="tools-title">Outils</h4>
            <span class="tools-count">0 / 5 activ√©s</span>
            <p class="tools-desc">Ajoutez des outils pour enrichir le fonctionnement de votre mod√®le IA.</p>
          </div>
          <button class="btn-add-tool" type="button">
            <span class="plus-icon">+</span> Ajouter un outil
          </button>
        </div>
      </div>
    </form>
  </section>
</main>



